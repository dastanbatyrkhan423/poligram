name: Keep Render Alive

on:
  schedule:
    # –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç (96 —Ä–∞–∑ –≤ –¥–µ–Ω—å)
    - cron: "*/15 * * * *"
  workflow_dispatch:  # –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –≤—Ä—É—á–Ω—É—é –∏–∑ GitHub Actions

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping Render site
        run: |
          # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç GitHub Secret RENDER_URL, –µ—Å–ª–∏ –æ–Ω —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
          # –ò–Ω–∞—á–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç URL –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
          SITE_URL="${{ secrets.RENDER_URL }}"
          if [ -z "$SITE_URL" ]; then
            SITE_URL="https://poligram-ecah.onrender.com"
          fi
          echo "üîÑ Pinging: $SITE_URL"
          curl -f -s -o /dev/null -w "Status: %{http_code}\n" "$SITE_URL" || echo "‚ö†Ô∏è Ping failed, but continuing..."
          echo "‚úÖ Ping completed"

